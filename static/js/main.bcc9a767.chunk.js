(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{3:function(e,t){e.exports={timings:{dataValidDuration:3e5},headings:{A:"Total Confirmed",B:"Active",C:"Total Recovered",D:"Deceased"},defaultResult:{defaultArray:[0,0,0,0]},codeToState:{AN:"Andaman and Nicobar Islands",AP:"Andhra Pradesh",AR:"Arunachal Pradesh",AS:"Assam",BR:"Bihar",CH:"Chandigarh",CT:"Chhattisgarh",DL:"Delhi",DN:"Dadra and Nagar Haveli",GA:"Goa",GJ:"Gujarat",HP:"Himachal Pradesh",HR:"Haryana",JH:"Jharkhand",JK:"Jammu and Kashmir",KA:"Karnataka",LA:"Ladakh",LD:"Lakshadweep",MH:"Maharashtra",ML:"Meghalaya",MN:"Manipur",MP:"Madhya Pradesh",MZ:"Mizoram",NL:"Nagaland",OR:"Odisha",PB:"Punjab",PY:"Puducherry",RJ:"Rajasthan",SK:"Sikkim",TG:"Telangana",TN:"Tamil Nadu",TR:"Tripura",TT:"Unknown",UP:"Uttar Pradesh",UT:"Uttarakhand",WB:"West Bengal"},stateToCode:{"Andaman and Nicobar Islands":"AN","Andhra Pradesh":"AP","Arunachal Pradesh":"AR",Assam:"AS",Bihar:"BR",Chandigarh:"CH",Chhattisgarh:"CT",Delhi:"DL","Dadra and Nagar Haveli":"DN",Goa:"GA",Gujarat:"GJ","Himachal Pradesh":"HP",Haryana:"HR",Jharkhand:"JH","Jammu and Kashmir":"JK",Karnataka:"KA",Ladakh:"LA",Lakshadweep:"LD",Maharashtra:"MH",Meghalaya:"ML",Manipur:"MN","Madhya Pradesh":"MP",Mizoram:"MZ",Nagaland:"NL",Odisha:"OR",Punjab:"PB",Puducherry:"PY",Rajasthan:"RJ",Sikkim:"SK",Telangana:"TG","Tamil Nadu":"TN",Tripura:"TR","Uttar Pradesh":"UP",Uttarakhand:"UT","West Bengal":"WB"}}},33:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),n=a(34),c=a.n(n),i=a(23),o=a(10),d=a(11),h=a(13),l=a(12),u=a(3);function j(e){var t=e.trim().toLowerCase();return Object.entries(u.stateToCode).filter((function(e){var a=e[0].trim().toLowerCase().substring(0,t.length);return t===a}))}a(41);var b=a(0),g=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={textInput:""},e.searchBarParent=r.a.createRef(),e.onChangeHandler=function(t){var a=t.target.value;if(e.setState({textInput:a}),a.length>0){var s=j(t.target.value);e.props.getSuggestionsToHome(s,a),console.log(e.searchBarParent.current),e.searchBarParent.current.classList.add("removeMarginBottom")}else e.searchBarParent.current.classList.remove("removeMarginBottom"),e.props.getSuggestionsToHome([],a)},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{ref:this.searchBarParent,className:"centered addMargin",children:Object(b.jsxs)("div",{className:"inputContainer",children:[Object(b.jsx)("input",{className:"searchBar",type:"text",val:this.state.textInput,onChange:this.onChangeHandler.bind(this),placeholder:this.props.statePlaceholder}),Object(b.jsx)("div",{className:"iconContainer",children:Object(b.jsx)("box-icon",{name:"search"})})]})})}}]),a}(r.a.Component),O=(a(43),function(e){return Object(b.jsx)("div",{children:Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:e.heading}),Object(b.jsx)("th",{children:u.headings.A}),Object(b.jsx)("th",{children:u.headings.B}),Object(b.jsx)("th",{children:u.headings.C}),Object(b.jsx)("th",{children:u.headings.D})]})}),Object(b.jsx)("tbody",{children:e.getStateWiseData()})]})})}),m=a(17),v=a.n(m),f=a(20),x=a(9),p=a(35),N=a.n(p).a.create({baseURL:"https://api.covid19india.org"});function k(){return y.apply(this,arguments)}function y(){return(y=Object(f.a)(v.a.mark((function e(){var t,a,s,r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match.params.stateCode,a=Object(x.getter)("expiry"),s=Object(x.getter)("data"),a&&!(a<Date.now())&&null!=s){e.next=23;break}return e.prev=4,e.next=7,N.get("/v4/min/data.min.json");case 7:if(200!==(r=e.sent).status){e.next=14;break}this.setState({data:r.data[t]}),Object(x.setter)("data",r.data),Object(x.setter)("expiry",Date.now()+u.timings.dataValidDuration),e.next=15;break;case 14:throw new Error("Failed to fetch Data");case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0),this.setState({error:e.t0.message});case 21:e.next=25;break;case 23:n=Object(x.getter)("data"),this.setState({data:n[t]});case 25:case"end":return e.stop()}}),e,this,[[4,17]])})))).apply(this,arguments)}function S(){return D.apply(this,arguments)}function D(){return(D=Object(f.a)(v.a.mark((function e(){var t,a,s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(x.getter)("expiry"),a=Object(x.getter)("data"),t&&!(t<Date.now())&&null!=a){e.next=23;break}return e.prev=3,e.next=6,N.get("/v4/min/data.min.json");case 6:if(s=e.sent,console.log(s),200!==s.status){e.next=14;break}this.setState({result:s.data}),Object(x.setter)("data",s.data),Object(x.setter)("expiry",Date.now()+u.timings.dataValidDuration),e.next=15;break;case 14:throw new Error("Failed to fetch Data");case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),console.log(e.t0),this.setState({error:e.t0.message});case 21:e.next=25;break;case 23:r=Object(x.getter)("data"),this.setState({result:r});case 25:case"end":return e.stop()}}),e,this,[[3,17]])})))).apply(this,arguments)}function P(e){return new Intl.NumberFormat("en-IN").format(e)}a(63);var C=function(e){return Object(b.jsx)("div",{className:"block",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"marg-bottom",children:e.heading}),Object(b.jsx)("div",{className:"marg-bottom",children:Object(b.jsx)("span",{className:"number",children:P(e.number||0)})})]})})},A=(a(64),function(e){var t=e.numbers;return Object(b.jsxs)("div",{className:"casesData",children:[Object(b.jsx)(C,{heading:u.headings.A,number:t[0]}),Object(b.jsx)(C,{heading:u.headings.B,number:t[1]}),Object(b.jsx)(C,{heading:u.headings.C,number:t[2]}),Object(b.jsx)(C,{heading:u.headings.D,number:t[3]})]})}),T=a(15),R=(a(65),function(e){var t=e.childKey,a=e.value,s=e.createLink,r=a.confirmed||0,n=a.recovered||0,c=(a.confirmed||0)-(a.deceased||0)-(a.recovered||0),i=a.deceased||0;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:s?Object(b.jsx)(T.b,{to:"/state/".concat(t),children:Object(b.jsx)("span",{className:"normalize",children:u.codeToState[t]||"Other"})}):Object(b.jsx)("span",{children:t})}),Object(b.jsx)("td",{children:P(r)}),Object(b.jsx)("td",{children:P(c)}),Object(b.jsx)("td",{children:P(n)}),Object(b.jsx)("td",{children:P(i)})]},t)}),w=(a(33),function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={data:{},error:""},e.numbersCalculate=function(){return Object.keys(e.state.data).length>0?[e.state.data.total.confirmed||0,(e.state.data.total.confirmed||0)-(e.state.data.total.deceased||0)-(e.state.data.total.recovered||0),e.state.data.total.recovered||0,e.state.data.total.deceased||0]:u.defaultResult},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){k.call(this)}},{key:"getStateWiseData",value:function(){return Object.keys(this.state.data).length?Object.entries(this.state.data.districts).map((function(e){return Object(b.jsx)(R,{childKey:e[0],value:e[1].total},e[0])})):Object(b.jsx)("tr",{})}},{key:"render",value:function(){return this.state.error.length>0?Object(b.jsx)("div",{className:"errorParent",children:Object(b.jsx)("div",{className:"errorDiv",children:this.state.error})}):0===Object.keys(this.state.data).length?Object(b.jsx)("div",{className:"animationHolder",children:Object(b.jsx)("div",{className:"lds-hourglass"})}):Object(b.jsxs)("div",{children:[Object(b.jsx)(A,{numbers:this.numbersCalculate()}),Object(b.jsx)(O,{heading:"District",getStateWiseData:this.getStateWiseData.bind(this)})]})}}]),a}(r.a.Component)),H=(a(71),function(e){return Object(b.jsx)("div",{children:Object(b.jsx)("h1",{className:"centeredHeader ".concat(e.isMainHeading?"extraCenter":""),children:e.heading})})});function M(){if(this.state.result){var e=0;return Object.entries(this.state.result).forEach((function(t){return e+=t[1].total.confirmed})),e}}function B(){if(this.state.result){var e=0;return Object.entries(this.state.result).forEach((function(t){e+=t[1].total.confirmed-t[1].total.deceased-t[1].total.recovered})),e}}function L(){if(this.state.result){var e=0;return Object.entries(this.state.result).forEach((function(t){e+=t[1].total.recovered})),e}}function J(){if(this.state.result){var e=0;return Object.entries(this.state.result).forEach((function(t){e+=t[1].total.deceased})),e}}var K=a(2),I=(a(72),function(e){return console.log(e.state),void 0===e.state?Object(b.jsx)("div",{className:"rowNoRecord",children:"No State Found .."}):Object(b.jsx)("div",{className:"row",children:Object(b.jsx)(T.b,{to:"/state/".concat(e.state[1]),className:"stateLink",children:Object(b.jsxs)("div",{className:"alignerDiv",children:[Object(b.jsx)("div",{className:"slightPadding",children:e.state[0]}),Object(b.jsx)("div",{className:"slightPadding",children:e.state[1]})]})})})}),W=(a(73),function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"createSuggestionRow",value:function(){if(this.props.suggestionsRecieved)return this.props.suggestions.length>0?this.props.suggestions.map((function(e){return Object(b.jsx)(I,{state:e},e[1])})):Object(b.jsx)(I,{},"No Record")}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"suggestionDiv",children:Object(b.jsx)("div",{className:"greyBorder rowWidth",children:this.createSuggestionRow.call(this)})})}}]),a}(r.a.Component)),G=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={result:{},suggestions:[],suggestionsRecieved:!1,error:""},e}return Object(d.a)(a,[{key:"getStateWiseData",value:function(){if(this.state.result)return Object.entries(this.state.result).map((function(e){return Object(b.jsx)(R,{childKey:e[0],value:e[1].total,createLink:!0},e[0])}))}},{key:"getSuggestionsToHome",value:function(e,t){0===t.length?this.setState({suggestions:e,suggestionsRecieved:!1}):this.setState({suggestions:e,suggestionsRecieved:!0})}},{key:"componentDidMount",value:function(){S.call(this)}},{key:"getAllNumbers",value:function(){return[M.call(this),B.call(this),L.call(this),J.call(this)]}},{key:"render",value:function(){return this.state.error.length>0?Object(b.jsx)("div",{className:"errorParent",children:Object(b.jsx)("div",{className:"errorDiv",children:this.state.error})}):0===Object.keys(this.state.result).length?Object(b.jsx)("div",{className:"animationHolder",children:Object(b.jsx)("div",{className:"lds-hourglass"})}):Object(b.jsx)(T.a,{basename:"".concat("/Covid-Tracker","/"),children:Object(b.jsxs)("div",{className:"setting",children:[Object(b.jsx)(H,{heading:"Covid Tracker",isMainHeading:!0}),Object(b.jsx)(g,{statePlaceholder:"Search Your State..",getSuggestionsToHome:this.getSuggestionsToHome.bind(this)}),Object(b.jsx)(W,{suggestions:this.state.suggestions,suggestionsRecieved:this.state.suggestionsRecieved}),Object(b.jsxs)(K.a,{path:"/",exact:!0,children:[Object(b.jsx)(H,{heading:"INDIA"}),Object(b.jsx)("div",{children:Object(b.jsx)(A,{numbers:this.getAllNumbers.call(this)})}),Object(b.jsx)(O,{heading:"State",getStateWiseData:this.getStateWiseData.bind(this)})]}),Object(b.jsx)(K.a,{path:"/state/:stateCode",exact:!0,render:function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)(H,{heading:u.codeToState[e.match.params.stateCode]}),Object(s.createElement)(w,Object(i.a)(Object(i.a)({},e),{},{key:e.match.params.stateCode}))]})}})]})})}}]),a}(r.a.Component);a(74);var U=function(){return Object(b.jsx)(G,{})};c.a.render(Object(b.jsx)(U,{}),document.getElementById("root"))},9:function(e,t){e.exports={setter:function(e,t){localStorage.setItem(e,JSON.stringify(t))},getter:function(e){return JSON.parse(localStorage.getItem(e))}}}},[[75,1,2]]]);
//# sourceMappingURL=main.bcc9a767.chunk.js.map